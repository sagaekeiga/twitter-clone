# TwitterClone

<!-- this document is auto-generated by irodori rails application template -->

<!-- ---------------------------------------------------------------------------------->

## 環境構築

### Docker のインストール

[Docker for Mac の Stable 版](https://download.docker.com/mac/stable/Docker.dmg)をインストールしてください。
ログインが必要な場合は https://store.docker.com/editions/community/docker-ce-desktop-mac から。

### 環境変数の設定

dotenv-rails 経由で環境変数を読み込むようにしていますので、サンプルファイルをコピーして各自の設定をしてください。

```shell
cp dotenv.sample .env

# 各環境に合わせたAPIキー等の設定をする。詳細はdotenv.sampleを参照。
vim .env
```

### Docker Container の起動

初回

```shell
docker-compose build
docker-compose run web yarn add postcss-loader sass-loader
docker-compose run web yarn install
docker-compose run --rm web bundle exec rails app:dev:reset
docker-compose up
```

二回目以降

```shell
docker-compose build
docker-compose run web yarn
docker-compose run --rm web bundle exec rails app:dev:reset
docker-compose up
```


### Pow との連携

domain 制約をつけているので、以下で pow と連携

```shell
echo '13008' > ~/.pow/pullimage
```

13008 が競合する場合は適宜変更してください（その際、docker-compose.yml で rails server で指定している引数も変更してください）

```
gem install powder
powder link
```

https://pullimage.test:13008/ にアクセスできるようになります。

```
mail: employee1@example.com
pass: hogehoge
```

https://admin.pullimage.test:13008/admins/sign_in (管理者)

<!-- ---------------------------------------------------------------------------------->

## ログの確認方法

アプリケーションサーバのログを見る時は以下のコマンドを実行してください。

```ruby
docker-compose run web tail -f log/development.log
```

## テスト方法

```shell
docker-compose run --rm web bundle exec rspec
```

<!-- ---------------------------------------------------------------------------------->

## 注意事項

`@TODO プロジェクトを進めるにあたっての注意事項を記載してください。`
# twitter-clone
